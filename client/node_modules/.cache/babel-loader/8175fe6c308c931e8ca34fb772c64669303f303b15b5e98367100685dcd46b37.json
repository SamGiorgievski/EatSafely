{"ast":null,"code":"var _regeneratorRuntime = require(\"/Users/bradwilliams/Builds/EatSafely/client/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _objectSpread = require(\"/Users/bradwilliams/Builds/EatSafely/client/node_modules/@babel/runtime/helpers/objectSpread2.js\").default;\nvar _objectWithoutProperties = require(\"/Users/bradwilliams/Builds/EatSafely/client/node_modules/@babel/runtime/helpers/objectWithoutProperties.js\").default;\nvar _asyncToGenerator = require(\"/Users/bradwilliams/Builds/EatSafely/client/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nvar _excluded = [\"logger\", \"errorHandler\"];\nvar resolvePaths = require('./utils/resolvePaths');\nvar circularize = require('./utils/circularize');\nvar createJob = require('./createJob');\nvar _require = require('./utils/log'),\n  log = _require.log;\nvar getId = require('./utils/getId');\nvar _require2 = require('./constants/config'),\n  defaultOEM = _require2.defaultOEM;\nvar _require3 = require('./worker/node'),\n  defaultOptions = _require3.defaultOptions,\n  spawnWorker = _require3.spawnWorker,\n  terminateWorker = _require3.terminateWorker,\n  onMessage = _require3.onMessage,\n  loadImage = _require3.loadImage,\n  send = _require3.send;\nvar workerCounter = 0;\nmodule.exports = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n  var _options,\n    id,\n    _resolvePaths,\n    logger,\n    errorHandler,\n    options,\n    resolves,\n    rejects,\n    workerResReject,\n    workerResResolve,\n    workerRes,\n    workerError,\n    worker,\n    setResolve,\n    setReject,\n    startJob,\n    load,\n    loadInternal,\n    writeText,\n    readText,\n    removeFile,\n    FS,\n    loadLanguage,\n    initialize,\n    setParameters,\n    recognize,\n    getPDF,\n    detect,\n    terminate,\n    resolveObj,\n    _args4 = arguments;\n  return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n    while (1) switch (_context4.prev = _context4.next) {\n      case 0:\n        _options = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : {};\n        id = getId('Worker', workerCounter);\n        _resolvePaths = resolvePaths(_objectSpread(_objectSpread({}, defaultOptions), _options)), logger = _resolvePaths.logger, errorHandler = _resolvePaths.errorHandler, options = _objectWithoutProperties(_resolvePaths, _excluded);\n        resolves = {};\n        rejects = {};\n        workerRes = new Promise(function (resolve, reject) {\n          workerResResolve = resolve;\n          workerResReject = reject;\n        });\n        workerError = function workerError(event) {\n          workerResReject(event.message);\n        };\n        worker = spawnWorker(options);\n        worker.onerror = workerError;\n        workerCounter += 1;\n        setResolve = function setResolve(action, res) {\n          resolves[action] = res;\n        };\n        setReject = function setReject(action, rej) {\n          rejects[action] = rej;\n        };\n        startJob = function startJob(_ref2) {\n          var jobId = _ref2.id,\n            action = _ref2.action,\n            payload = _ref2.payload;\n          return new Promise(function (resolve, reject) {\n            log(\"[\".concat(id, \"]: Start \").concat(jobId, \", action=\").concat(action));\n            setResolve(action, resolve);\n            setReject(action, reject);\n            send(worker, {\n              workerId: id,\n              jobId: jobId,\n              action: action,\n              payload: payload\n            });\n          });\n        };\n        load = function load() {\n          return console.warn('`load` is depreciated and should be removed from code (workers now come pre-loaded)');\n        };\n        loadInternal = function loadInternal(jobId) {\n          return startJob(createJob({\n            id: jobId,\n            action: 'load',\n            payload: {\n              options: options\n            }\n          }));\n        };\n        writeText = function writeText(path, text, jobId) {\n          return startJob(createJob({\n            id: jobId,\n            action: 'FS',\n            payload: {\n              method: 'writeFile',\n              args: [path, text]\n            }\n          }));\n        };\n        readText = function readText(path, jobId) {\n          return startJob(createJob({\n            id: jobId,\n            action: 'FS',\n            payload: {\n              method: 'readFile',\n              args: [path, {\n                encoding: 'utf8'\n              }]\n            }\n          }));\n        };\n        removeFile = function removeFile(path, jobId) {\n          return startJob(createJob({\n            id: jobId,\n            action: 'FS',\n            payload: {\n              method: 'unlink',\n              args: [path]\n            }\n          }));\n        };\n        FS = function FS(method, args, jobId) {\n          return startJob(createJob({\n            id: jobId,\n            action: 'FS',\n            payload: {\n              method: method,\n              args: args\n            }\n          }));\n        };\n        loadLanguage = function loadLanguage() {\n          var langs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'eng';\n          var jobId = arguments.length > 1 ? arguments[1] : undefined;\n          return startJob(createJob({\n            id: jobId,\n            action: 'loadLanguage',\n            payload: {\n              langs: langs,\n              options: options\n            }\n          }));\n        };\n        initialize = function initialize() {\n          var langs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'eng';\n          var oem = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultOEM;\n          var config = arguments.length > 2 ? arguments[2] : undefined;\n          var jobId = arguments.length > 3 ? arguments[3] : undefined;\n          return startJob(createJob({\n            id: jobId,\n            action: 'initialize',\n            payload: {\n              langs: langs,\n              oem: oem,\n              config: config\n            }\n          }));\n        };\n        setParameters = function setParameters() {\n          var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          var jobId = arguments.length > 1 ? arguments[1] : undefined;\n          return startJob(createJob({\n            id: jobId,\n            action: 'setParameters',\n            payload: {\n              params: params\n            }\n          }));\n        };\n        recognize = /*#__PURE__*/function () {\n          var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(image) {\n            var opts,\n              output,\n              jobId,\n              _args = arguments;\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1) switch (_context.prev = _context.next) {\n                case 0:\n                  opts = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n                  output = _args.length > 2 && _args[2] !== undefined ? _args[2] : {\n                    blocks: true,\n                    text: true,\n                    hocr: true,\n                    tsv: true\n                  };\n                  jobId = _args.length > 3 ? _args[3] : undefined;\n                  _context.t0 = startJob;\n                  _context.t1 = createJob;\n                  _context.t2 = jobId;\n                  _context.next = 8;\n                  return loadImage(image);\n                case 8:\n                  _context.t3 = _context.sent;\n                  _context.t4 = opts;\n                  _context.t5 = output;\n                  _context.t6 = {\n                    image: _context.t3,\n                    options: _context.t4,\n                    output: _context.t5\n                  };\n                  _context.t7 = {\n                    id: _context.t2,\n                    action: 'recognize',\n                    payload: _context.t6\n                  };\n                  _context.t8 = (0, _context.t1)(_context.t7);\n                  return _context.abrupt(\"return\", (0, _context.t0)(_context.t8));\n                case 15:\n                case \"end\":\n                  return _context.stop();\n              }\n            }, _callee);\n          }));\n          return function recognize(_x) {\n            return _ref3.apply(this, arguments);\n          };\n        }();\n        getPDF = function getPDF() {\n          var title = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'Tesseract OCR Result';\n          var textonly = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n          var jobId = arguments.length > 2 ? arguments[2] : undefined;\n          console.log('`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead.');\n          return startJob(createJob({\n            id: jobId,\n            action: 'getPDF',\n            payload: {\n              title: title,\n              textonly: textonly\n            }\n          }));\n        };\n        detect = /*#__PURE__*/function () {\n          var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(image, jobId) {\n            return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n              while (1) switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.t0 = startJob;\n                  _context2.t1 = createJob;\n                  _context2.t2 = jobId;\n                  _context2.next = 5;\n                  return loadImage(image);\n                case 5:\n                  _context2.t3 = _context2.sent;\n                  _context2.t4 = {\n                    image: _context2.t3\n                  };\n                  _context2.t5 = {\n                    id: _context2.t2,\n                    action: 'detect',\n                    payload: _context2.t4\n                  };\n                  _context2.t6 = (0, _context2.t1)(_context2.t5);\n                  return _context2.abrupt(\"return\", (0, _context2.t0)(_context2.t6));\n                case 10:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }, _callee2);\n          }));\n          return function detect(_x2, _x3) {\n            return _ref4.apply(this, arguments);\n          };\n        }();\n        terminate = /*#__PURE__*/function () {\n          var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n            return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n              while (1) switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (worker !== null) {\n                    /*\n                    await startJob(createJob({\n                      id: jobId,\n                      action: 'terminate',\n                    }));\n                    */\n                    terminateWorker(worker);\n                    worker = null;\n                  }\n                  return _context3.abrupt(\"return\", Promise.resolve());\n                case 2:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }, _callee3);\n          }));\n          return function terminate() {\n            return _ref5.apply(this, arguments);\n          };\n        }();\n        onMessage(worker, function (_ref6) {\n          var workerId = _ref6.workerId,\n            jobId = _ref6.jobId,\n            status = _ref6.status,\n            action = _ref6.action,\n            data = _ref6.data;\n          if (status === 'resolve') {\n            log(\"[\".concat(workerId, \"]: Complete \").concat(jobId));\n            var d = data;\n            if (action === 'recognize') {\n              d = circularize(data);\n            } else if (action === 'getPDF') {\n              d = Array.from(_objectSpread(_objectSpread({}, data), {}, {\n                length: Object.keys(data).length\n              }));\n            }\n            resolves[action]({\n              jobId: jobId,\n              data: d\n            });\n          } else if (status === 'reject') {\n            rejects[action](data);\n            if (action === 'load') workerResReject(data);\n            if (errorHandler) {\n              errorHandler(data);\n            } else {\n              throw Error(data);\n            }\n          } else if (status === 'progress') {\n            logger(_objectSpread(_objectSpread({}, data), {}, {\n              userJobId: jobId\n            }));\n          }\n        });\n        resolveObj = {\n          id: id,\n          worker: worker,\n          setResolve: setResolve,\n          setReject: setReject,\n          load: load,\n          writeText: writeText,\n          readText: readText,\n          removeFile: removeFile,\n          FS: FS,\n          loadLanguage: loadLanguage,\n          initialize: initialize,\n          setParameters: setParameters,\n          recognize: recognize,\n          getPDF: getPDF,\n          detect: detect,\n          terminate: terminate\n        };\n        loadInternal().then(function () {\n          return workerResResolve(resolveObj);\n        }).catch(function () {});\n        return _context4.abrupt(\"return\", workerRes);\n      case 30:\n      case \"end\":\n        return _context4.stop();\n    }\n  }, _callee4);\n}));","map":{"version":3,"names":["resolvePaths","require","circularize","createJob","log","getId","defaultOEM","defaultOptions","spawnWorker","terminateWorker","onMessage","loadImage","send","workerCounter","module","exports","_options","id","logger","errorHandler","options","resolves","rejects","workerRes","Promise","resolve","reject","workerResResolve","workerResReject","workerError","event","message","worker","onerror","setResolve","action","res","setReject","rej","startJob","jobId","payload","workerId","load","console","warn","loadInternal","writeText","path","text","method","args","readText","encoding","removeFile","FS","loadLanguage","langs","initialize","oem","config","setParameters","params","recognize","image","opts","output","blocks","hocr","tsv","getPDF","title","textonly","detect","terminate","status","data","d","Array","from","length","Object","keys","Error","userJobId","resolveObj","then","catch"],"sources":["/Users/bradwilliams/Builds/EatSafely/client/node_modules/tesseract.js/src/createWorker.js"],"sourcesContent":["const resolvePaths = require('./utils/resolvePaths');\nconst circularize = require('./utils/circularize');\nconst createJob = require('./createJob');\nconst { log } = require('./utils/log');\nconst getId = require('./utils/getId');\nconst { defaultOEM } = require('./constants/config');\nconst {\n  defaultOptions,\n  spawnWorker,\n  terminateWorker,\n  onMessage,\n  loadImage,\n  send,\n} = require('./worker/node');\n\nlet workerCounter = 0;\n\nmodule.exports = async (_options = {}) => {\n  const id = getId('Worker', workerCounter);\n  const {\n    logger,\n    errorHandler,\n    ...options\n  } = resolvePaths({\n    ...defaultOptions,\n    ..._options,\n  });\n  const resolves = {};\n  const rejects = {};\n\n  let workerResReject;\n  let workerResResolve;\n  const workerRes = new Promise((resolve, reject) => {\n    workerResResolve = resolve;\n    workerResReject = reject;\n  });\n  const workerError = (event) => { workerResReject(event.message); };\n\n  let worker = spawnWorker(options);\n  worker.onerror = workerError;\n\n  workerCounter += 1;\n\n  const setResolve = (action, res) => {\n    resolves[action] = res;\n  };\n\n  const setReject = (action, rej) => {\n    rejects[action] = rej;\n  };\n\n  const startJob = ({ id: jobId, action, payload }) => (\n    new Promise((resolve, reject) => {\n      log(`[${id}]: Start ${jobId}, action=${action}`);\n      setResolve(action, resolve);\n      setReject(action, reject);\n      send(worker, {\n        workerId: id,\n        jobId,\n        action,\n        payload,\n      });\n    })\n  );\n\n  const load = () => (\n    console.warn('`load` is depreciated and should be removed from code (workers now come pre-loaded)')\n  );\n\n  const loadInternal = (jobId) => (\n    startJob(createJob({\n      id: jobId, action: 'load', payload: { options },\n    }))\n  );\n\n  const writeText = (path, text, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'FS',\n      payload: { method: 'writeFile', args: [path, text] },\n    }))\n  );\n\n  const readText = (path, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'FS',\n      payload: { method: 'readFile', args: [path, { encoding: 'utf8' }] },\n    }))\n  );\n\n  const removeFile = (path, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'FS',\n      payload: { method: 'unlink', args: [path] },\n    }))\n  );\n\n  const FS = (method, args, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'FS',\n      payload: { method, args },\n    }))\n  );\n\n  const loadLanguage = (langs = 'eng', jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'loadLanguage',\n      payload: { langs, options },\n    }))\n  );\n\n  const initialize = (langs = 'eng', oem = defaultOEM, config, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'initialize',\n      payload: { langs, oem, config },\n    }))\n  );\n\n  const setParameters = (params = {}, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'setParameters',\n      payload: { params },\n    }))\n  );\n\n  const recognize = async (image, opts = {}, output = {\n    blocks: true, text: true, hocr: true, tsv: true,\n  }, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'recognize',\n      payload: { image: await loadImage(image), options: opts, output },\n    }))\n  );\n\n  const getPDF = (title = 'Tesseract OCR Result', textonly = false, jobId) => {\n    console.log('`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead.');\n    return startJob(createJob({\n      id: jobId,\n      action: 'getPDF',\n      payload: { title, textonly },\n    }));\n  };\n\n  const detect = async (image, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'detect',\n      payload: { image: await loadImage(image) },\n    }))\n  );\n\n  const terminate = async () => {\n    if (worker !== null) {\n      /*\n      await startJob(createJob({\n        id: jobId,\n        action: 'terminate',\n      }));\n      */\n      terminateWorker(worker);\n      worker = null;\n    }\n    return Promise.resolve();\n  };\n\n  onMessage(worker, ({\n    workerId, jobId, status, action, data,\n  }) => {\n    if (status === 'resolve') {\n      log(`[${workerId}]: Complete ${jobId}`);\n      let d = data;\n      if (action === 'recognize') {\n        d = circularize(data);\n      } else if (action === 'getPDF') {\n        d = Array.from({ ...data, length: Object.keys(data).length });\n      }\n      resolves[action]({ jobId, data: d });\n    } else if (status === 'reject') {\n      rejects[action](data);\n      if (action === 'load') workerResReject(data);\n      if (errorHandler) {\n        errorHandler(data);\n      } else {\n        throw Error(data);\n      }\n    } else if (status === 'progress') {\n      logger({ ...data, userJobId: jobId });\n    }\n  });\n\n  const resolveObj = {\n    id,\n    worker,\n    setResolve,\n    setReject,\n    load,\n    writeText,\n    readText,\n    removeFile,\n    FS,\n    loadLanguage,\n    initialize,\n    setParameters,\n    recognize,\n    getPDF,\n    detect,\n    terminate,\n  };\n\n  loadInternal().then(() => workerResResolve(resolveObj)).catch(() => {});\n\n  return workerRes;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}