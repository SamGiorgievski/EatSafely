{"ast":null,"code":"import _objectSpread from\"/Users/bradwilliams/Builds/EatSafely/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/bradwilliams/Builds/EatSafely/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import axios from\"axios\";import\"./Login.scss\";import{useGlobalContext}from\"../context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useGlobalContext=useGlobalContext(),isLoggedIn=_useGlobalContext.isLoggedIn,setIsLoggedIn=_useGlobalContext.setIsLoggedIn;var _useGlobalContext2=useGlobalContext(),storedData=_useGlobalContext2.storedData,setStoredData=_useGlobalContext2.setStoredData;var navigate=useNavigate();function handleSubmit(e){e.preventDefault();console.log(\"LoginHandle\");return axios.post(\"/login\",{email:user.userEmail,password:user.userPassword}).then(function(response){localStorage.setItem(\"userData\",JSON.stringify(response));// props.setStoredData(JSON.parse(localStorage.getItem(\"userData\")));\nconsole.log(\"---------------\");// console.log(response);\nsetIsLoggedIn(true);navigate(\"/profile\");}).catch(function(err){console.log(\"*****\",err);});}// console.log(userData.user);\nreturn/*#__PURE__*/_jsxs(\"section\",{className:\"text-center text-lg-start\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"images/eatsafely_logo.png\",alt:\"page-img\",className:\"logo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-0 align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 mb-5 mb-lg-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card cascading-right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-5 shadow-5 text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"fw-bold mb-5\",children:\"Please Log In\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-outline\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-outline mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",for:\"email\",id:\"form3Example3\",className:\"form-control\"// onChange={(event) => setEmail(event.target.value)}\n,onChange:function onChange(event){return setUser(function(prev){return _objectSpread(_objectSpread({},prev),{},{userEmail:event.target.value});});}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",for:\"email\",children:\"Email address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-outline mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",for:\"password\",id:\"form3Example4\",className:\"form-control\"// onChange={(event) => setPassword(event.target.value)}\n,onChange:function onChange(event){return setUser(function(prev){return _objectSpread(_objectSpread({},prev),{},{userPassword:event.target.value});});}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",for:\"password\",children:\"Password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-block mb-4\",children:\"Login\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/register\",variant:\"body2\",children:\"Don't have an account? Sign up here\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 mb-5 mb-lg-0\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://my-doc.com/wp-content/uploads/2020/08/harvardhealth.jpg\",className:\"w-100 rounded-4 shadow-4\",alt:\"\"})})]})})]});}export default Login;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","axios","useGlobalContext","Login","props","user","setUser","isLoggedIn","setIsLoggedIn","storedData","setStoredData","navigate","handleSubmit","e","preventDefault","console","log","post","email","userEmail","password","userPassword","then","response","localStorage","setItem","JSON","stringify","catch","err","event","prev","target","value"],"sources":["/Users/bradwilliams/Builds/EatSafely/client/src/pages/Login.jsx"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport \"./Login.scss\";\nimport { useGlobalContext } from \"../context\";\n\nfunction Login(props) {\n  const [user, setUser] = useState(\"\");\n\n  const { isLoggedIn, setIsLoggedIn } = useGlobalContext();\n  const { storedData, setStoredData } = useGlobalContext();\n\n  const navigate = useNavigate();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    console.log(\"LoginHandle\");\n    return axios\n      .post(\"/login\", {\n        email: user.userEmail,\n        password: user.userPassword,\n      })\n      .then((response) => {\n        localStorage.setItem(\"userData\", JSON.stringify(response));\n\n        // props.setStoredData(JSON.parse(localStorage.getItem(\"userData\")));\n        console.log(\"---------------\");\n        // console.log(response);\n        setIsLoggedIn(true);\n\n        navigate(\"/profile\");\n      })\n      .catch((err) => {\n        console.log(\"*****\", err);\n      });\n  }\n\n  // console.log(userData.user);\n\n  return (\n    <section className=\"text-center text-lg-start\">\n      <img\n        src=\"images/eatsafely_logo.png\"\n        alt=\"page-img\"\n        className=\"logo\"\n      ></img>\n\n      <div className=\"container py-4\">\n        <div className=\"row g-0 align-items-center\">\n          <div className=\"col-lg-6 mb-5 mb-lg-0\">\n            <div className=\"card cascading-right\">\n              <div className=\"card-body p-5 shadow-5 text-center\">\n                <h2 className=\"fw-bold mb-5\">Please Log In</h2>\n\n                {/* Form */}\n                <form onSubmit={handleSubmit}>\n                  <div className=\"row\">\n                    <div className=\"col-md-6 mb-4\">\n                      <div className=\"form-outline\"></div>\n                    </div>\n                  </div>\n                  <div className=\"form-outline mb-4\">\n                    {/* Email */}\n                    <input\n                      type=\"email\"\n                      name=\"email\"\n                      for=\"email\"\n                      id=\"form3Example3\"\n                      className=\"form-control\"\n                      // onChange={(event) => setEmail(event.target.value)}\n                      onChange={(event) =>\n                        setUser((prev) => ({\n                          ...prev,\n                          userEmail: event.target.value,\n                        }))\n                      }\n                    />\n                    <label className=\"form-label\" for=\"email\">\n                      Email address\n                    </label>\n                  </div>\n\n                  {/* Password */}\n                  <div className=\"form-outline mb-4\">\n                    <input\n                      type=\"password\"\n                      name=\"password\"\n                      for=\"password\"\n                      id=\"form3Example4\"\n                      className=\"form-control\"\n                      // onChange={(event) => setPassword(event.target.value)}\n\n                      onChange={(event) =>\n                        setUser((prev) => ({\n                          ...prev,\n                          userPassword: event.target.value,\n                        }))\n                      }\n                    />\n                    <label className=\"form-label\" for=\"password\">\n                      Password\n                    </label>\n                  </div>\n\n                  {/* Form Event Handler */}\n                  <button\n                    type=\"submit\"\n                    className=\"btn btn-primary btn-block mb-4\"\n                  >\n                    Login\n                  </button>\n                </form>\n                <Link to=\"/register\" variant=\"body2\">\n                  Don't have an account? Sign up here\n                </Link>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-lg-6 mb-5 mb-lg-0\">\n            <img\n              src=\"https://my-doc.com/wp-content/uploads/2020/08/harvardhealth.jpg\"\n              className=\"w-100 rounded-4 shadow-4\"\n              alt=\"\"\n            />\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}